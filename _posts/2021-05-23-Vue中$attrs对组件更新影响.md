---
layout: mypost
title: Vue中$attrs对组件更新影响
categories: [Vue.js]
---

## 背景

最近在做项目开发时，碰到一个组件重复更新的问题，通过大量调试和查阅网上资料，才定位并解决问题。在此做一个总结记录，以便后续查阅

问题是这样的，在项目中封装了一个`echarts`组件，通过传入数据渲染图表；该组件被放在一个页面中，此页面中定义了图表需要的数据，通过`props`传递给图表，并且还定义了其他数据绑定到页面其他部分；
图表数据是通过后端获取的，在异步获取数据前还会改变其他变量控制页面状态，正常来说图表应该在异步获取后才重新渲染，但是实际情况是每次在发送请求时会渲染一次图表，但是传入给图表组件的props没有发生任何变化。

## 原因



## 参考

[谨慎使用$attrs与$listeners](https://juejin.cn/post/6864858225443864583)
[为什么说 Vue 的响应式更新精确到组件级别?](https://juejin.cn/post/6844904113432444942)