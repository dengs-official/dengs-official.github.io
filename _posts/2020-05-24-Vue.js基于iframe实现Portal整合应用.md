---
layout: mypost
title: Vue.js基于iframe实现Portal整合应用
categories: [Vue.js, Micro frontend]
---

## 背景

当前公司有一个需求，需要将前面基于 Vue.js 开发的单页应用整合到一个 Portal 平台中。由于这是一批 Demo 应用，无对接后台，需要有一个快速、简单的整合方案。公司之前正式环境中的应用是整合到一个大的平台中，通过nginx 和 iframe 实现应用路由，且支持通过配置管理应用。受此启发，通过iframe实现一个简单的 Portal 应用

---

## 需求

1. 所有应用有一个统一的登录页面，且有统一的入口平台

2. 所有引用保持相同的状态，有统一的用户管理和系统设置

3. 平台支持通过权限控制初始化到应用列表或具体子应用

4. 应用间支持相互跳转，支持相互跳到应用的路由子页面

5. Optional，支持通过配置菜单管理，发布新应用

---

## 选型

---

## 实现

### 整体架构

### Portal 应用

### 子应用路由

### 配置解析

* Portal 菜单支持配置

* nginx 正则匹配多项目

---

参考文档

1. [vue公共文件提取,打包后修改无需重新打包](https://www.jianshu.com/p/10c3f1a6697a)

2. [nginx中 $1,$2,$3是什么?](https://blog.csdn.net/cbmljs/article/details/86573248?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase)

3. [如何在iframe中刷新整个页面](https://blog.csdn.net/yanluandai1985/article/details/82851548)